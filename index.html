<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IIMJobs Analytics ‚Äì Experiment Hub</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600&family=DM+Sans:wght@400;500;600;700&family=Fraunces:opsz,wght@9..144,300;9..144,500;9..144,600;9..144,700;9..144,800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Sidebar -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <div class="logo-mark">
                <svg width="28" height="28" viewBox="0 0 28 28" fill="none">
                    <rect width="28" height="28" rx="6" fill="#2563eb"/>
                    <path d="M7 14h6l2-5 3 10 2-5h4" stroke="#fff" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <div class="logo-text">
                <span class="logo-title">Experiment Hub</span>
                <span class="logo-sub">IIMJobs Analytics</span>
            </div>
        </div>
        <nav class="sidebar-nav">
            <a href="#framework" class="nav-item active" data-section="framework">
                <span class="nav-icon">üìã</span>Framework
            </a>
            <a href="#sample-size" class="nav-item" data-section="sample-size">
                <span class="nav-icon">üìä</span>Sample Size Calculator
            </a>
            <a href="#srm" class="nav-item" data-section="srm">
                <span class="nav-icon">‚öñÔ∏è</span>SRM Checker
            </a>
            <a href="#lift" class="nav-item" data-section="lift">
                <span class="nav-icon">üìà</span>Lift Calculator
            </a>
            <a href="#terms" class="nav-item" data-section="terms">
                <span class="nav-icon">üìñ</span>Understand the Terms
            </a>
        </nav>
        <div class="sidebar-footer">
            <button class="theme-toggle" id="themeToggle" title="Toggle theme">
                <span class="theme-icon-dark">üåô</span>
                <span class="theme-icon-light">‚òÄÔ∏è</span>
            </button>
            <span class="version-tag">v2.1.0</span>
        </div>
    </aside>

    <!-- Mobile Header -->
    <header class="mobile-header">
        <button class="hamburger" id="hamburger">
            <span></span><span></span><span></span>
        </button>
        <span class="mobile-title">Experiment Hub</span>
        <button class="theme-toggle-mobile" id="themeToggleMobile">üåô</button>
    </header>

    <!-- Main Content -->
    <main class="main-content" id="mainContent">

        <!-- ================================================
             PAGE 1: FRAMEWORK
             ================================================ -->
        <section class="content-section active" id="framework">
            <div class="section-header">
                <h1>Analytics Experiment Framework</h1>
                <p class="section-desc">This framework is owned and operated by the Analytics Team. It provides a simple, repeatable process for running reliable experiments.</p>
            </div>

            <!-- 5-Step Flow -->
            <div class="stepper">
                <div class="step">
                    <div class="step-badge">1</div>
                    <div class="step-content">
                        <div class="step-name">Define</div>
                        <div class="step-desc">Define Primary Metric and Outcome Metric</div>
                    </div>
                </div>
                <div class="step-connector"></div>
                <div class="step">
                    <div class="step-badge">2</div>
                    <div class="step-content">
                        <div class="step-name">Plan</div>
                        <div class="step-desc">Calculate required sample size and duration</div>
                    </div>
                </div>
                <div class="step-connector"></div>
                <div class="step">
                    <div class="step-badge">3</div>
                    <div class="step-content">
                        <div class="step-name">Split</div>
                        <div class="step-desc">Validate traffic split (SRM Check)</div>
                    </div>
                </div>
                <div class="step-connector"></div>
                <div class="step">
                    <div class="step-badge">4</div>
                    <div class="step-content">
                        <div class="step-name">Run</div>
                        <div class="step-desc">Let experiment collect data</div>
                    </div>
                </div>
                <div class="step-connector"></div>
                <div class="step">
                    <div class="step-badge">5</div>
                    <div class="step-content">
                        <div class="step-name">Analyze &amp; Decide</div>
                        <div class="step-desc">Measure lift and evaluate business impact</div>
                    </div>
                </div>
            </div>

            <!-- Metric Definitions -->
            <div class="metrics-row">
                <div class="metric-card metric-primary">
                    <div class="metric-badge">Primary Metric</div>
                    <p class="metric-explain">The direct improvement we expect from the experiment.</p>
                    <div class="metric-tags">
                        <span class="tag tag-blue">Apply Rate</span>
                        <span class="tag tag-blue">Click Through Rate</span>
                        <span class="tag tag-blue">Profile Completion Rate</span>
                    </div>
                </div>
                <div class="metric-card metric-outcome">
                    <div class="metric-badge outcome">Outcome Metric</div>
                    <p class="metric-explain">The broader business impact we care about.</p>
                    <div class="metric-tags">
                        <span class="tag tag-green">Total Applications</span>
                        <span class="tag tag-green">Revenue</span>
                        <span class="tag tag-green">Engagement</span>
                        <span class="tag tag-green">Recruiter Retention</span>
                    </div>
                </div>
            </div>

            <!-- Before Launch Checklist -->
            <div class="card">
                <h2 class="card-title">‚úÖ Before Going Live</h2>
                <ul class="checklist-simple">
                    <li>
                        <label class="check-label"><input type="checkbox"><span class="checkmark"></span>Is traffic split correct?</label>
                    </li>
                    <li>
                        <label class="check-label"><input type="checkbox"><span class="checkmark"></span>Is primary metric tracking correctly?</label>
                    </li>
                    <li>
                        <label class="check-label"><input type="checkbox"><span class="checkmark"></span>Is event logging working?</label>
                    </li>
                </ul>
            </div>
        </section>

        <!-- ================================================
             PAGE 2: SAMPLE SIZE CALCULATOR
             ================================================ -->
        <section class="content-section" id="sample-size">
            <div class="section-header">
                <h1>Sample Size Calculator</h1>
                <p class="section-desc">Determine how many users you need and how long your experiment should run.</p>
            </div>

            <div class="card">
                <h2 class="card-title">How many groups are you comparing?</h2>
                <div class="radio-group" id="ssGroupSelect">
                    <label class="radio-card selected" onclick="selectSSGroup(2)">
                        <input type="radio" name="ss-groups" value="2" checked>
                        <div class="radio-title">2 Groups</div>
                        <div class="radio-desc">Control vs Treatment</div>
                    </label>
                    <label class="radio-card" onclick="selectSSGroup(3)">
                        <input type="radio" name="ss-groups" value="3">
                        <div class="radio-title">3 Groups</div>
                        <div class="radio-desc">Control vs T1 vs T2</div>
                    </label>
                </div>

                <!-- 2-Group Inputs -->
                <div id="ss2group">
                    <div class="input-row">
                        <div class="input-group">
                            <label>Baseline Conversion Rate (%) <span class="tooltip" data-tip="Current conversion rate before the experiment starts.">‚ìò</span></label>
                            <input type="number" id="ssBaseline" placeholder="e.g. 5" min="0.01" max="100" step="0.01">
                            <span class="error-msg" id="err-ssBaseline">Please enter a valid rate (0.01‚Äì100).</span>
                        </div>
                        <div class="input-group">
                            <label>Expected Treatment Rate (%) <span class="tooltip" data-tip="The conversion rate you expect from the treatment group.">‚ìò</span></label>
                            <input type="number" id="ssTreatment" placeholder="e.g. 6" min="0.01" max="100" step="0.01">
                            <span class="error-msg" id="err-ssTreatment">Please enter a valid rate (0.01‚Äì100).</span>
                        </div>
                    </div>
                </div>

                <!-- 3-Group Inputs -->
                <div id="ss3group" class="hidden">
                    <div class="input-row input-row-3">
                        <div class="input-group">
                            <label>Control Rate (%)</label>
                            <input type="number" id="ssCtrl3" placeholder="e.g. 5" min="0.01" max="100" step="0.01">
                            <span class="error-msg" id="err-ssCtrl3">Required.</span>
                        </div>
                        <div class="input-group">
                            <label>T1 Rate (%)</label>
                            <input type="number" id="ssT1" placeholder="e.g. 6" min="0.01" max="100" step="0.01">
                            <span class="error-msg" id="err-ssT1">Required.</span>
                        </div>
                        <div class="input-group">
                            <label>T2 Rate (%)</label>
                            <input type="number" id="ssT2" placeholder="e.g. 6.5" min="0.01" max="100" step="0.01">
                            <span class="error-msg" id="err-ssT2">Required.</span>
                        </div>
                    </div>
                </div>

                <!-- Common Inputs -->
                <div class="input-row">
                    <div class="input-group">
                        <label>Confidence Level (%) <span class="tooltip" data-tip="How sure you want to be. 95% is standard.">‚ìò</span></label>
                        <input type="number" id="ssConfidence" value="95" min="80" max="99.9" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Statistical Power (%) <span class="tooltip" data-tip="Probability of detecting a real effect. 80% is standard.">‚ìò</span></label>
                        <input type="number" id="ssPower" value="80" min="50" max="99.9" step="0.1">
                    </div>
                </div>
                <div class="input-row">
                    <div class="input-group">
                        <label>Daily Traffic Per Group <span class="tooltip" data-tip="Number of users each group receives per day.">‚ìò</span></label>
                        <input type="number" id="ssDailyTraffic" placeholder="e.g. 1000" min="1" step="1">
                        <span class="error-msg" id="err-ssDailyTraffic">Please enter a valid number.</span>
                    </div>
                    <div class="input-group"></div>
                </div>

                <button class="btn-primary" onclick="calculateSampleSize()">Calculate Sample Size</button>

                <div id="ssResults" class="hidden">
                    <div class="result-grid">
                        <div class="result-card">
                            <div class="result-value" id="ssResPerGroup">‚Äì</div>
                            <div class="result-label">Users Per Group</div>
                        </div>
                        <div class="result-card">
                            <div class="result-value" id="ssResTotal">‚Äì</div>
                            <div class="result-label">Total Users Needed</div>
                        </div>
                        <div class="result-card">
                            <div class="result-value" id="ssResDays">‚Äì</div>
                            <div class="result-label">Estimated Duration</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h2 class="card-title">What do these terms mean?</h2>
                <div class="term-explain">
                    <p><strong>Baseline Conversion</strong> ‚Äî Current performance before the experiment.</p>
                    <p><strong>Confidence Level</strong> ‚Äî How sure we want to be that the result is real (usually 95%).</p>
                    <p><strong>Power</strong> ‚Äî The chance of detecting a real improvement if one exists (usually 80%).</p>
                </div>
                <button class="advanced-toggle" onclick="toggleAdvanced(this)">
                    <span class="adv-icon">+</span> Advanced Explanation
                </button>
                <div class="advanced-content">
                    The sample size is calculated using the formula for comparing two proportions. It uses the Z-scores for the desired confidence level (Œ±) and power (1‚àíŒ≤), along with the pooled variance of the two conversion rates. For 3 groups, the Bonferroni correction is applied ‚Äî Œ± is divided by the number of pairwise comparisons ‚Äî to control for multiple testing, and the largest required sample across all pairs is used.
                </div>
            </div>
        </section>

        <!-- ================================================
             PAGE 3: SRM CHECKER
             ================================================ -->
        <section class="content-section" id="srm">
            <div class="section-header">
                <h1>SRM Checker</h1>
                <p class="section-desc">Verify that your experiment's traffic split is correct before trusting the results.</p>
            </div>

            <div class="card">
                <h2 class="card-title">How many variants?</h2>
                <div class="radio-group" id="srmGroupSelect">
                    <label class="radio-card selected" onclick="selectSRMGroup(2)">
                        <input type="radio" name="srm-groups" value="2" checked>
                        <div class="radio-title">2 Groups</div>
                        <div class="radio-desc">Control vs Treatment</div>
                    </label>
                    <label class="radio-card" onclick="selectSRMGroup(3)">
                        <input type="radio" name="srm-groups" value="3">
                        <div class="radio-title">3 Groups</div>
                        <div class="radio-desc">Control vs T1 vs T2</div>
                    </label>
                </div>

                <div id="srm2group">
                    <div class="input-row">
                        <div class="input-group">
                            <label>Expected % ‚Äî Control <span class="tooltip" data-tip="The planned percentage of traffic for this group.">‚ìò</span></label>
                            <input type="number" id="srmExpCtrl" value="50" min="1" max="99" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Expected % ‚Äî Treatment</label>
                            <input type="number" id="srmExpTreat" value="50" min="1" max="99" step="0.1">
                        </div>
                    </div>
                    <div class="input-row">
                        <div class="input-group">
                            <label>Observed Users ‚Äî Control</label>
                            <input type="number" id="srmObsCtrl" placeholder="e.g. 4900" min="0" step="1">
                            <span class="error-msg" id="err-srmObsCtrl">Required.</span>
                        </div>
                        <div class="input-group">
                            <label>Observed Users ‚Äî Treatment</label>
                            <input type="number" id="srmObsTreat" placeholder="e.g. 5100" min="0" step="1">
                            <span class="error-msg" id="err-srmObsTreat">Required.</span>
                        </div>
                    </div>
                </div>

                <div id="srm3group" class="hidden">
                    <div class="input-row input-row-3">
                        <div class="input-group">
                            <label>Expected % ‚Äî Control</label>
                            <input type="number" id="srmExpCtrl3" value="34" min="1" max="98" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Expected % ‚Äî T1</label>
                            <input type="number" id="srmExpT13" value="33" min="1" max="98" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Expected % ‚Äî T2</label>
                            <input type="number" id="srmExpT23" value="33" min="1" max="98" step="0.1">
                        </div>
                    </div>
                    <div class="input-row input-row-3">
                        <div class="input-group">
                            <label>Observed ‚Äî Control</label>
                            <input type="number" id="srmObsCtrl3" placeholder="e.g. 3300" min="0" step="1">
                            <span class="error-msg" id="err-srmObsCtrl3">Required.</span>
                        </div>
                        <div class="input-group">
                            <label>Observed ‚Äî T1</label>
                            <input type="number" id="srmObsT13" placeholder="e.g. 3400" min="0" step="1">
                            <span class="error-msg" id="err-srmObsT13">Required.</span>
                        </div>
                        <div class="input-group">
                            <label>Observed ‚Äî T2</label>
                            <input type="number" id="srmObsT23" placeholder="e.g. 3300" min="0" step="1">
                            <span class="error-msg" id="err-srmObsT23">Required.</span>
                        </div>
                    </div>
                </div>

                <button class="btn-primary" onclick="checkSRM()">Check Traffic Split</button>

                <div id="srmResults" class="hidden">
                    <div id="srmBadge"></div>
                    <button class="advanced-toggle" onclick="toggleAdvanced(this)">
                        <span class="adv-icon">+</span> Show Advanced Statistics
                    </button>
                    <div class="advanced-content" id="srmAdvanced"></div>
                </div>
            </div>

            <div class="card">
                <h2 class="card-title">What is SRM?</h2>
                <div class="term-explain">
                    <p><strong>SRM stands for Sample Ratio Mismatch.</strong> It checks whether the actual traffic split matches what was planned. If traffic is not split correctly, the experiment results cannot be trusted ‚Äî even if the numbers look good. Always check for SRM before analyzing results.</p>
                </div>
            </div>
        </section>

        <!-- ================================================
             PAGE 4: LIFT CALCULATOR
             ================================================ -->
        <section class="content-section" id="lift">
            <div class="section-header">
                <h1>Lift Calculator</h1>
                <p class="section-desc">Measure the impact of your experiment and determine whether the result is statistically significant.</p>
            </div>

            <div class="card">
                <h2 class="card-title">Enter Your Experiment Data</h2>
                <div class="input-row">
                    <div class="input-group">
                        <label>Control Users</label>
                        <input type="number" id="liftCtrlUsers" placeholder="e.g. 10000" min="1" step="1">
                        <span class="error-msg" id="err-liftCtrlUsers">Required.</span>
                    </div>
                    <div class="input-group">
                        <label>Control Conversions</label>
                        <input type="number" id="liftCtrlConv" placeholder="e.g. 500" min="0" step="1">
                        <span class="error-msg" id="err-liftCtrlConv">Required.</span>
                    </div>
                </div>
                <div class="input-row">
                    <div class="input-group">
                        <label>Treatment Users</label>
                        <input type="number" id="liftTreatUsers" placeholder="e.g. 10000" min="1" step="1">
                        <span class="error-msg" id="err-liftTreatUsers">Required.</span>
                    </div>
                    <div class="input-group">
                        <label>Treatment Conversions</label>
                        <input type="number" id="liftTreatConv" placeholder="e.g. 550" min="0" step="1">
                        <span class="error-msg" id="err-liftTreatConv">Required.</span>
                    </div>
                </div>
                <div class="input-row">
                    <div class="input-group">
                        <label>Confidence Level (%) <span class="tooltip" data-tip="How confident you want to be. 95% is standard.">‚ìò</span></label>
                        <input type="number" id="liftConfidence" value="95" min="80" max="99.9" step="0.1">
                    </div>
                    <div class="input-group"></div>
                </div>

                <button class="btn-primary" onclick="calculateLift()">Calculate Lift</button>

                <div id="liftResults" class="hidden">
                    <div class="result-grid result-grid-4">
                        <div class="result-card">
                            <div class="result-value" id="liftCtrlRate">‚Äì</div>
                            <div class="result-label">Control Rate</div>
                        </div>
                        <div class="result-card">
                            <div class="result-value" id="liftTreatRate">‚Äì</div>
                            <div class="result-label">Treatment Rate</div>
                        </div>
                        <div class="result-card">
                            <div class="result-value" id="liftAbsLift">‚Äì</div>
                            <div class="result-label">Absolute Lift</div>
                        </div>
                        <div class="result-card">
                            <div class="result-value" id="liftRelLift">‚Äì</div>
                            <div class="result-label">Relative Lift</div>
                        </div>
                    </div>

                    <!-- CI Visualization -->
                    <div class="ci-visual">
                        <p class="ci-text" id="liftCIText"></p>
                        <p class="ci-range" id="liftCIRange"></p>
                        <div class="ci-bar-container">
                            <div class="ci-bar-track"></div>
                            <div class="ci-bar-zero"><span class="ci-zero-label">0</span></div>
                            <div class="ci-bar-range" id="liftCIBar"></div>
                            <div class="ci-bar-point" id="liftCIPoint"></div>
                        </div>
                        <div class="ci-bar-labels">
                            <span>‚Üê Negative</span>
                            <span>Positive ‚Üí</span>
                        </div>
                    </div>

                    <div id="liftSignificance"></div>

                    <button class="advanced-toggle" onclick="toggleAdvanced(this)">
                        <span class="adv-icon">+</span> Show Advanced Statistics
                    </button>
                    <div class="advanced-content" id="liftAdvanced"></div>
                </div>
            </div>

            <div class="card">
                <h2 class="card-title">What do these results mean?</h2>
                <div class="term-explain">
                    <p><strong>Absolute Lift</strong> ‚Äî The direct percentage-point difference between treatment and control.</p>
                    <p><strong>Relative Lift</strong> ‚Äî The percentage improvement compared to the control rate.</p>
                </div>
            </div>
        </section>

        <!-- ================================================
             PAGE 5: UNDERSTAND THE TERMS
             ================================================ -->
        <section class="content-section" id="terms">
            <div class="section-header">
                <h1>Understand the Terms</h1>
                <p class="section-desc">A plain-language guide to every metric and concept used in this tool.</p>
            </div>

            <div class="card">
                <div class="terms-group">
                    <h3 class="terms-group-title">Framework Terms</h3>
                    <div id="termsFramework"></div>
                </div>
                <div class="terms-group">
                    <h3 class="terms-group-title">Sample Size Terms</h3>
                    <div id="termsSample"></div>
                </div>
                <div class="terms-group">
                    <h3 class="terms-group-title">SRM Terms</h3>
                    <div id="termsSRM"></div>
                </div>
                <div class="terms-group">
                    <h3 class="terms-group-title">Lift Terms</h3>
                    <div id="termsLift"></div>
                </div>
            </div>
        </section>

    </main>
    <script src="script.js"></script>
</body>
</html>
